<!DOCTYPE html>
<html>
  <head>
    <title>Get Keymap | Mighty Typer</title>
    <script>
      window.console = window.console || {
         log: function () {},
      };
    </script>
    <link rel="stylesheet" href="/css/typer.css">
    <script src="/js/external/jquery.js"></script>
  </head>
  <body>
    <h3>Type Every Key</h3>
    <textarea id="typeEveryKey"></textarea>
    <div>
      <h4>The json map</h4>
      <input type="text" id="jsonMap">
    </div>

    <script>
      var kmap = {}
      $("#typeEveryKey").on('keyup', function (evt) {
        var $this = $(this);
        var val = $this.val();
        if (val.length > 1) {
          $this.val('');
          return;
        }
        $this.val('');
        kmap[evt.which] = val;
        $("#jsonMap").val(JSON.stringify(kmap));
      });
    </script>
  </body>
</html>
